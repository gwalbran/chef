# Autogenerated by Chef.
<%
  node['talend']['jobs'].each do |job|
    harvester_data_bag = Chef::DataBagItem.load("talend", job)
%>

input {
  file {
    path => "<%= File.join(node['talend']['base_dir'], 'jobs', "#{job}-#{harvester_data_bag['artifact_id']}", 'log', 'console.log') %>"
    codec => json
    tags => [ "talend", "<%= job %>"]
    type => "talend_<%= job %>"
  }
}

# Note: no special parsing for talend logs as they are not in a very standardised form.

<% end %>
